<DOCTYPE html>
    <html lang="fr">
        <head>
            <meta charset="UTF-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0" />
            <title>Wolf's Hunt</title>
            <link rel="stylesheet" href="./assets/css/style.css" />
            <link rel="stylesheet" href="./assets/css/bootstrap.min.css" />
            <link
                rel="shortcut icon"
                type="image/png"
                href="./assets/img/favicon.png"
                class="icone"
            />
            <link rel="manifest" href="manifest.json" />
            <script>
                window.addEventListener("resize", setFavicon);
                window.addEventListener("load", setFavicon);
                if ("serviceWorker" in navigator) {
                    navigator.serviceWorker.register("/sw.js").then(
                        function (registration) {
                            console.log(
                                "Service Worker registration successful with scope: ",
                                registration.scope
                            );
                        },
                        function (error) {
                            console.log("Service Worker registration failed: ", error);
                        }
                    );
                }
            </script>
        </head>
        <body>
            <center>
                <button class="btn-install ml-2" id="installButton" style="display: none">
                    Installer
                </button>
            </center>
            <div>
                <div class="row">
                    <div class="col-12">
                        <!-- Modal pour les règles du jeu -->
                        <button
                            type="button"
                            class="btn btn-primary regle "
                            data-toggle="modal"
                            data-target="#myModal"
                        >
                            <img  src="./assets/img/regle.png" alt="" />
                        </button>
                        <div
                            class="modal fade"
                            id="myModal"
                            tabindex="-1"
                            role="dialog"
                            aria-labelledby="regleModalLabel"
                            aria-hidden="true"
                        >
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h1 class="modal-title" id="regleModalLabel">
                                            Règles du Jeu "Wolf's Hunt"
                                        </h1>
                                        <button
                                            type="button"
                                            class="close"
                                            data-dismiss="modal"
                                            aria-label="Close"
                                        >
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <!-- Contenu des règles du jeu ici -->
                                        <center>
                                            <button class="btn-install ml-2" id="installButton" style="display: none">
                                                <h2>si vous vouler installer l'application</h2>
                                            </button>
                                        </center>
                                        <h2>Objectif :</h2>
                                        <p>
                                            Le but du jeu est de guider un loup à travers un
                                            environnement forestier pour qu'il puisse se nourrir de
                                            manière sécurisée, en évitant les aliments empoisonnés
                                            et en se purgeant avec des herbes lorsqu'il ingère
                                            quelque chose de toxique.
                                        </p>
                                        <h2>Mécanique de Jeu :</h2>
                                        <h3>Déplacement :</h3>
                                        <ul>
                                            <li>
                                                Utilisez les touches de direction (flèches) pour
                                                déplacer le loup sur l'écran.
                                            </li>
                                            <!--ou les touches OKLM-->

                                            <li>
                                                Le loup peut se déplacer dans toutes les directions
                                                : haut, bas, gauche et droite.
                                            </li>
                                        </ul>
                                        <h3>Collecte de Nourriture :</h3>
                                        <ul>
                                            <li>
                                                La nourriture apparaît aléatoirement sur l'écran.
                                            </li>
                                            <li>
                                                La nourriture saine augmentera la santé du loup.<img
                                                    width="50px"
                                                    src="./assets/img/nourriture/champi.png"
                                                    alt=""
                                                />
                                                <img
                                                    width="50px"
                                                    src="./assets/img/nourriture/poisson.png"
                                                    alt=""
                                                />
                                                <img
                                                    width="50px"
                                                    src="./assets/img/nourriture/viande.png"
                                                    alt=""
                                                />
                                            </li>
                                            <li>
                                                Les aliments toxiques réduiront la santé du
                                                loup.<img
                                                    width="50px"
                                                    src="./assets/img/poison/champitoxique.png"
                                                    alt=""
                                                />
                                                <img
                                                    width="50px"
                                                    src="./assets/img/poison/viandepourri.png"
                                                    alt=""
                                                />
                                            </li>
                                            <li>
                                                Les aliments de soin réduiront l'empoisonnement du
                                                loup et lui rendront de la santé.<img
                                                    width="50px"
                                                    src="./assets/img/remede/fiole.png"
                                                    alt=""
                                                />
                                                <img
                                                    width="50px"
                                                    src="./assets/img/remede/plante.png"
                                                    alt=""
                                                />
                                            </li>
                                        </ul>
                                        <h3>Nourriture Saine :</h3>
                                        <ul>
                                            <li>
                                                Les aliments sains (par exemple, viandes, baies,
                                                poissons) augmentent la jauge de santé du loup
                                            </li>
                                            <!--de 10
                                            points.-->
                                            <li>
                                                Le loup doit consommer autant de nourriture saine
                                                que possible pour maintenir sa santé.
                                            </li>
                                        </ul>
                                        <h3>Aliments Toxiques :</h3>
                                        <ul>
                                            <li>
                                                Les aliments toxiques (par exemple, champignons
                                                vénéneux, viande pourrie) augemente la jauge
                                                d'empoisonnement du loup
                                            </li>
                                            <!--de 15 points.-->
                                            <li>
                                                Si le loup mange un aliment toxique, il doit se
                                                purger pour éviter de perdre trop de santé.
                                            </li>
                                        </ul>
                                        <h3>Herbes pour la Purge :</h3>
                                        <ul>
                                            <li>
                                                Les herbes apparaissent aléatoirement sur l'écran.
                                            </li>
                                            <li>
                                                Si le loup mange un aliment toxique, vous devez le
                                                déplacer vers une herbe pour se purger.
                                            </li>
                                            <li>
                                                La consommation d'herbes annule l'effet toxique et
                                                restaure 10 points de santé.
                                            </li>
                                        </ul>
                                        <h3>Jauge de Santé :</h3>
                                        <ul>
                                            <li>
                                                La jauge de santé du loup est affichée en haut de
                                                l'écran.
                                            </li>
                                            <li>
                                                Le jeu commence avec la jauge de santé à 200 points.
                                            </li>
                                            <li>
                                                Si la jauge de santé atteint 0, le jeu est terminé.
                                            </li>
                                        </ul>
                                        <!-- <h3>Niveaux et Difficulté :</h3>
                                    <ul>
                                        <li>Le jeu est divisé en niveaux. Chaque niveau augmente la difficulté en augmentant la fréquence des aliments toxiques.</li>
                                        <li>Au fur et à mesure que les niveaux progressent, la vitesse de déplacement du loup peut également augmenter.</li>
                                    </ul> -->
                                        <h3>Score :</h3>
                                        <ul>
                                            <li>
                                                Le score est basé sur la quantité de nourriture
                                                saine empoisoné et de soin consommée.
                                            </li>
                                            <li>
                                                Chaque nourriture consommée ajoute des points au
                                                score total.
                                            </li>
                                            <li>
                                                Un tableau de score est affiché à la fin du jeu.
                                            </li>
                                        </ul>
                                        <h2>Instructions :</h2>
                                        <ul>
                                            <li>
                                                Déplacez le loup en utilisant les touches de
                                                direction
                                            </li>
                                            <!--ou OKLM.-->
                                            <li>
                                                Cherchez et mangez de la nourriture saine pour
                                                maintenir et augmenter la santé du loup.
                                            </li>
                                            <li>
                                                Évitez les aliments toxiques ou, si ingérés,
                                                déplacez-vous rapidement vers les herbes pour vous
                                                purger.
                                            </li>
                                            <li>
                                                Survivez aussi longtemps que possible en maintenant
                                                la jauge de santé au-dessus de 0.
                                            </li>
                                            <!-- <li>
                                            Progressez à travers les niveaux et atteignez le score
                                            le plus élevé possible.
                                        </li> -->
                                        </ul>
                                        <h2>Fin de Partie :</h2>
                                        <ul>
                                            <li>
                                                La partie se termine lorsque la jauge de santé du
                                                loup atteint 0.
                                            </li>
                                            <li>
                                                Le score final est affiché, et vous pouvez choisir
                                                de recommencer le jeu ou quitter.
                                            </li>
                                        </ul>
                                        <h2>Conseils :</h2>
                                        <ul>
                                            <li>
                                                Soyez attentif aux aliments qui apparaissent.
                                                Apprenez à reconnaître rapidement les toxiques.
                                            </li>
                                            <li>
                                                Utilisez les herbes efficacement pour gérer les
                                                effets toxiques.
                                            </li>
                                            <li>
                                                Planifiez vos mouvements pour maximiser la collecte
                                                de nourriture saine et minimiser les risques.
                                            </li>
                                        </ul>
                                        <p>Amusez-vous et bonne chasse !</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="statusBars" class="ttbar">
                    <center>
                        <div id="health-bar">Santé : <span id="health">200</span></div>
                        <div id="food-bar">Nourriture : <span id="food">400</span></div>
                        <div id="poison-bar">Malade : <span id="poison">0</span></div>
                    </center>
                </div>
            </div>
            <!-- Zone de jeu -->
            <div id="game-screen">
                <!-- Image du loup pour le déplacement -->
                <img id="wolf" src="./assets/img/loup.webp" alt="Loup" />
            </div>
            <!-- Modal pour afficher la mort du loup -->
            <center>
                <div
                    class="modal fade"
                    id="deathModal"
                    tabindex="-1"
                    role="dialog"
                    aria-labelledby="deathModalLabel"
                    aria-hidden="true"
                >
                    <div class="modal-dialog" role="document">
                        <div class="modal-content fin">
                            <div class="modal-header">
                                <h5 class="modal-title" id="deathModalLabel">Fin de Partie</h5>
                                <button
                                    type="button"
                                    class="close"
                                    data-dismiss="modal"
                                    aria-label="Close"
                                >
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <p>Temps de jeu : <span id="gameTime"></span> secondes</p>
                                <center>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Type</th>
                                                <th>Quantité</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Nourriture</td>
                                                <td id="foodCount"></td>
                                            </tr>
                                            <tr>
                                                <td>Poison</td>
                                                <td id="poisonCount"></td>
                                            </tr>
                                            <tr>
                                                <td>Soins</td>
                                                <td id="healingCount"></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </center>
                                <button type="button" class="btn btn-primary" id="restartGameBtn">
                                    Recommencer
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </center>
            <!-- Flèches de déplacement pour les téléphones -->
            <div id="mobile-controls">
                <div id="upArrow" class="arrow">↑</div>
                <div>
                    <div id="leftArrow" class="arrow">←</div>
                    <div id="downArrow" class="arrow">↓</div>
                    <div id="rightArrow" class="arrow">→</div>
                </div>
            <!-- <div id="arrow-container">
            <div><div id="upArrow" class="arrow">↑</div></div>
            <div id="leftArrow" class="arrow">←</div>
            <div id="rightArrow" class="arrow">→</div>
            <div id="downArrow" class="arrow">↓</div>
        </div> -->
            <!-- Scripts -->
            <script>
                installButton.addEventListener("click", () => {
                    if (deferredPrompt) {
                        deferredPrompt.prompt();
                        deferredPrompt.userChoice.then((choiceResult) => {
                            if (choiceResult.outcome === "accepted") {
                                console.log("User accepted the A2HS prompt");
                            } else {
                                console.log("User dismissed the A2HS prompt");
                            }
                            deferredPrompt = null;
                            installButton.style.display = "none";
                        });
                    }
                });

                window.addEventListener("appinstalled", () => {
                    console.log("PWA was installed");
                });
            </script>
            <script src="./assets/js/jquery-3.6.1.min.js"></script>
            <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
            <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
            <script src="./assets/js/bootstrap.min.js"></script>
            <script src="./assets/js/script.js"></script>
        </body>
    </html>
</DOCTYPE>
